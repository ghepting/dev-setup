#!/usr/bin/env zsh

# colors
RED="\e[31m"
GREEN="\e[32m"
YELLOW="\e[33m"
BLUE="\e[34m"
MAGENTA="\e[35m"
CYAN="\e[36m"
WHITE="\e[37m"
NC="\e[0m" # No Color (Reset)

RESTART_REQUIRED=false

# Source the utility functions
source "./lib/brew.sh"
source "./lib/ruby.sh"
source "./lib/python.sh"
source "./lib/node.sh"
source "./lib/packages.sh"

# 1. Homebrew
install_homebrew && \
  # setup PATH
  install_homebrew_path && \
  # install brew packages
  install_brew_bundle

# 2. Ruby and rbenv
install_rbenv_and_ruby

# 3. Python and pip
install_python_and_pip

# 4. Node, npm, and NVM
install_nvm_and_node && \
  # 5. Global npm packages
  install_global_npm_packages

echo -e "${GREEN}Dev setup completed successfully${NC}"
if $RESTART_REQUIRED
then
  echo -e "${GRAY}New utilities have been installed. Please restart your terminal to activate them.${NC}"
fi
exit 0
